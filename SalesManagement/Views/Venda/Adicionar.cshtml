@model IEnumerable<VendaProduto>

<style>
    .addIcon:hover {
        transform: scale(1.5);
        transition: 0.2s ease-in-out;
    }
</style>

<div class="container">
    <div class="d-flex justify-content-between mt-3">
        <h2 class="mt-3">Registrar Venda</h2>
    </div>
    <form asp-controller="Venda" asp-action="Adicionar" method="post">
        <div class="mb-4 col-md-6">
            <label class="mt-3">Nome do Vendedor</label>
            @Html.DropDownList("IdVendedor", (IEnumerable<SelectListItem>) ViewBag.Vendedores, "Selecione o vendedor", new {@class = "form-control mt-1", id = "IdVendedor"})
        </div>

        <div class="d-flex justify-content-between mt-3 col-md-6">
            <h4 class="mt-3">Produtos</h4>
            <a id="addBtn" asp-controller="Venda" asp-action="AdicionarVendaProduto" class="btn btn-primary mt-4 mb-4 w-25">Adicionar</a>
        </div>
        @if (Model.Count() > 0)
        {
            <div class="col-md-6">
                <table class="table mt-2 mb-5">
                    <tr class="bg-primary">
                        <th class="text-light">@Html.DisplayNameFor(model => model.Produto.Nome)</th>
                        <th class="text-light">@Html.DisplayNameFor(model => model.Quantidade)</th>
                        <th></th>
                    </tr>
                    @foreach (var item in Model)
                    {
                        <tr id="linhaTbl">
                            <td>@Html.DisplayFor(modelItem => item.Produto.Nome)</td>
                            <td>@Html.DisplayFor(modelItem => item.Quantidade)</td>
                            <td><a id="deleteIcon" asp-controller="Vendedor" asp-action="Deletar" asp-route-id="@item.Produto.IdProduto"><i id="deleteIcon" class="fa-solid fa-trash"></a></td>
                        </tr>
                    }
                </table>
            </div>
        }
        else
        {
            <div class="col-md-6">
                <div class="container d-flex justify-content-center mt-5 mb-5" style="border-bottom: 1px solid #2C3E50">
                    <p>Nenhum produto.</p>
                </div>
            </div>
        }
        <button type="submit" class="btn btn-success">Realizar Venda</button>
    </form>
</div>